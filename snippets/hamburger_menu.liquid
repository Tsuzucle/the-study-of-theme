<ul class="navbar-nav mr-auto">
    <!-- リンクをひとつずつ取り出す -->
    {% for link in linklists.main-menu.links %}
    <li class="nav-item">
      <!-- リンクの名前をchild_list_handleで定義 -->
      {% assign child_list_handle = link.title | handleize %}
      <!-- リンクのchild_linkが空でなかったら（リンクが下の階層を持っていたら） -->
      {% if linklists[child_list_handle].links != blank %}
      <!-- ドロップダウンメニューを出す -->
      <div class="dropdown drop-hover">
        <!-- href="{{ link.url }}"でリンクのURLを指定 -->
        <a class="nav-link dropdown-toggle" href="{{ link.url }}">
          <!-- {{ link.title }}でタイトルを表示 -->
          {{ link.title }}
        </a>
        <ul class="dropdown-menu">
          <!-- 下の階層のリンクを1つずつ取り出す -->
          {% for childlink in linklists[child_list_handle].links %}
          <!-- その名前をsub_list_handleとして定義する -->
          {% assign sub_list_handle = childlink.title | handleize %}
          <!-- sub_list_handleがあったら -->
          {% if linklists[sub_list_handle].links != blank %}
          <!-- ドロップダウンメニューを出す -->
          <li class="dropright drop-hover">
            <a class="dropdown-item dropdown-toggle" href="{{ childlink.url }}"
              data-toggle="dropdown">{{ childlink.title }}</a>
            <ul class="dropdown-menu">
              <!-- sub_list_handleのタイトルを1つずつ表示 -->
              {% for sublink in linklists[sub_list_handle].links %}
              <li>
                <a class="dropdown-item" href="{{ sublink.url }}">{{ sublink.title }}</a>
              </li>
              {% endfor %}
            </ul>
          </li>
          {%else%}
          <li>
            <a class="dropdown-item" href="{{ childlink.url }}">{{ childlink.title | escape }}</a>
          </li>
          {%endif%}
          {% endfor %}
        </ul>
      </div>
      {%else%}
      <a class="nav-link" href="{{ link.url }}">{{ link.title }}</a>
      {%endif%}
    </li>
    {% endfor %}
</ul>